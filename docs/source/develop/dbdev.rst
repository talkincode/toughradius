基于ToughRADIUS的数据库开发管理应用
====================================

如果觉得ToughRADIUS提供的web管理系统不能满足自己的运营需求，同时具有一定的编程开发能力，那么可以基于ToughRADIUS的数据库与管理接口来实现自己的管理应用。

ToughRADIUS提供了一个详细的数据字典，请注意标有 <radiusd default table> 的表是ToughRADIUS的认证计费引擎需要的表，而其他的表完全可以忽略，你可以设计自己的数据字典。


slc_rad_bas
------------------------------------ 

:ref:`BAS设备表 <slc_rad_bas_label>` 

该表主要用来保存BAS设备信息，只有该表中存在的BAS设备才允许认证，不存在该表中的BAS设备发送的认证计费消息都会被丢弃。当你修改了该表中的关键数据后，务必通过管理接口更新缓存。


slc_rad_group
------------------------------------ 

:ref:`用户组表 <slc_rad_group_label>` 

该表是用来对一组用户实现并发数控制和绑定策略的。当你修改了该表中的关键数据后，务必通过管理接口更新缓存。

如果你并不需要用户组功能，简单地忽略该表即可。


slc_rad_roster
------------------------------------ 

:ref:`黑白名单表 <slc_rad_roster_label>` 

黑白名单类型： 0-白名单，1-黑名单，黑白名单表通过MAC地址和用户上网账号来对用户实现基于MAC地址的认证控制，通常白名单用户无需验证用户密码，过期，时长，流量等，适用于一些特别用户群体，如vip，专线。黑名单会直接拒绝丢弃消息不在继续验证流程。当你修改了该表中的关键数据后，务必通过管理接口更新缓存。

如果你并不需要黑白名单功能，简单地忽略该表即可。

slc_rad_product
------------------------------------ 

:ref:`资费信息表 <slc_rad_product_label>` 

资费是对计费规则的定义，资费决定了对每个上网账号如何收费，如何扣费的规则，详情请参考 :ref:`资费定义 <product_define_label>`。当你修改了该表中的关键数据后，务必通过管理接口更新缓存。


slc_rad_product_attr
------------------------------------ 

:ref:`资费扩展属性表 <slc_rad_product_attr_label>` 

该表用来实现扩展属性的下发，在同一些特定的BAS对接时，往往需要下发一些厂商私有属性，要实现这个目的，只需要在该表中保存特定厂商RADIUS协议字典中的属性名与值即可。当你修改了该表中的关键数据后，务必通过管理接口更新资费缓存。


slc_rad_account
------------------------------------ 

:ref:`上网账号表 <slc_rad_account_label>` 

上网账号表，account_number全局唯一，用户状态 0:"预定",1:"正常", 2:"停机" , 3:"销户", 4:"到期"。

只有正常状态和未激活的用户才能通过认证，当你修改了该表中的关键数据后，务必通过管理接口更新资费缓存。


slc_rad_billing
------------------------------------ 

:ref:`计费信息表 <slc_rad_billing_label>` 

计费信息表，该表主要是针对时长资费账号进行周期扣费记录，扣费标志：is_deduct 0 未扣费 1 已扣费。

该表没有缓存特性。


slc_rad_ticket
------------------------------------ 

:ref:`上网日志表 <slc_rad_ticket_label>` 

该表用来保存用户认证计费产生的上网日志，注意当用户规模较大时，应该对该表进行适当优化处理，比如分区，定期清理等。

该表没有缓存特性。


slc_rad_online
------------------------------------ 

:ref:`用户在线信息表  <slc_rad_online_label>` 

该表用来记录在线用户信息，对持久化无要求，对性能要求较高，因此建议使用mysql内存表。

该表没有缓存特性。





