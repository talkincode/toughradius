# ToughRADIUS ä¸»é¢˜é…ç½®è¯´æ˜

## æ¦‚è¿°

ToughRADIUS v9 å‰ç«¯ç•Œé¢æ”¯æŒæµ…è‰²å’Œæ·±è‰²ä¸¤ç§ä¸»é¢˜æ¨¡å¼ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡é¡¶éƒ¨å¯¼èˆªæ çš„ä¸»é¢˜åˆ‡æ¢æŒ‰é’®åœ¨ä¸¤ç§æ¨¡å¼ä¹‹é—´è‡ªç”±åˆ‡æ¢ã€‚

## ä¸»é¢˜ç‰¹æ€§

### ğŸ¨ åŒä¸»é¢˜æ”¯æŒ

- **æµ…è‰²ä¸»é¢˜ï¼ˆLight Modeï¼‰**

  - ä¸»è‰²è°ƒï¼šè“è‰²ç³» (#2563eb)
  - å‰¯è‰²è°ƒï¼šç´«è‰²ç³» (#8b5cf6)
  - èƒŒæ™¯è‰²ï¼šæµ…ç°è“è‰² (#f8fafc)
  - çº¸å¼ èƒŒæ™¯ï¼šçº¯ç™½è‰² (#ffffff)
  - æ–‡å­—é¢œè‰²ï¼šæ·±ç°è“è‰² (#0f172a)

- **æ·±è‰²ä¸»é¢˜ï¼ˆDark Modeï¼‰**
  - ä¸»è‰²è°ƒï¼šäº®è“è‰²ç³» (#3b82f6)
  - å‰¯è‰²è°ƒï¼šæµ…ç´«è‰²ç³» (#a78bfa)
  - èƒŒæ™¯è‰²ï¼šæ·±è“ç°è‰² (#0f172a)
  - çº¸å¼ èƒŒæ™¯ï¼šä¸­åº¦ç°è“è‰² (#1e293b)
  - æ–‡å­—é¢œè‰²ï¼šæµ…ç°è‰² (#f1f5f9)

### âœ¨ ä¸»é¢˜ç‰¹ç‚¹

1. **å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»**

   - æ‰€æœ‰é¢œè‰²å˜åŒ–éƒ½æœ‰ 0.3s çš„è¿‡æ¸¡æ•ˆæœ
   - æŒ‰é’®ã€å¡ç‰‡ç­‰äº¤äº’å…ƒç´ æœ‰ 0.2s çš„å¿«é€Ÿå“åº”

2. **æ™ºèƒ½é…è‰²**

   - è‡ªåŠ¨é€‚é…æ·±æµ…è‰²æ¨¡å¼çš„å¯¹æ¯”åº¦
   - ç¡®ä¿æ–‡å­—åœ¨å„ç§èƒŒæ™¯ä¸‹çš„å¯è¯»æ€§
   - å›¾è¡¨é¢œè‰²è‡ªåŠ¨è·Ÿéšä¸»é¢˜å˜åŒ–

3. **ä¸€è‡´çš„è®¾è®¡è¯­è¨€**

   - ç»Ÿä¸€çš„åœ†è§’è®¾è®¡ï¼ˆ8px åŸºç¡€åœ†è§’ï¼‰
   - å¡ç‰‡ä½¿ç”¨ 16px åœ†è§’
   - æŒ‰é’®ä½¿ç”¨ 8px åœ†è§’

4. **ä¼˜åŒ–çš„æ»šåŠ¨æ¡**
   - æ·±æµ…è‰²æ¨¡å¼ä¸‹ä¸åŒçš„æ»šåŠ¨æ¡æ ·å¼
   - 8px å®½åº¦çš„è‡ªå®šä¹‰æ»šåŠ¨æ¡
   - æ‚¬åœæ—¶é¢œè‰²å˜åŒ–

## ä¸»é¢˜åˆ‡æ¢

ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ‡æ¢ä¸»é¢˜ï¼š

1. ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ å³ä¾§çš„ ğŸŒ™/â˜€ï¸ å›¾æ ‡
2. ä¸»é¢˜åå¥½ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨
3. ä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨æ¢å¤ä¸Šæ¬¡çš„ä¸»é¢˜é€‰æ‹©

## æŠ€æœ¯å®ç°

### ä¸»é¢˜åˆ›å»ºå‡½æ•°

```typescript
export const createAppTheme = (mode: PaletteMode) => {
  const isDark = mode === "dark";
  const palette = isDark ? darkPalette : lightPalette;

  return createTheme({
    palette: { mode, ...palette },
    // ... å…¶ä»–é…ç½®
  });
};
```

### React Admin é›†æˆ

```tsx
<Admin
  theme={theme} // æµ…è‰²ä¸»é¢˜
  darkTheme={darkTheme} // æ·±è‰²ä¸»é¢˜
  defaultTheme="light" // é»˜è®¤ä¸»é¢˜
  // ... å…¶ä»–é…ç½®
/>
```

### ç»„ä»¶ä¸­ä½¿ç”¨ä¸»é¢˜

```tsx
import { useTheme } from "@mui/material";

const MyComponent = () => {
  const theme = useTheme();
  const isDark = theme.palette.mode === "dark";

  return (
    <Box
      sx={{
        backgroundColor: theme.palette.background.paper,
        color: theme.palette.text.primary,
      }}
    >
      {/* å†…å®¹ */}
    </Box>
  );
};
```

## è‡ªå®šä¹‰ä¸»é¢˜

å¦‚æœéœ€è¦è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²ï¼Œå¯ä»¥ä¿®æ”¹ `web/src/theme.ts` æ–‡ä»¶ä¸­çš„é…è‰²æ–¹æ¡ˆï¼š

```typescript
// æµ…è‰²ä¸»é¢˜é…è‰²
const lightPalette = {
  primary: {
    main: "#2563eb", // ä¿®æ”¹ä¸»è‰²è°ƒ
    // ...
  },
  // ...
};

// æ·±è‰²ä¸»é¢˜é…è‰²
const darkPalette = {
  primary: {
    main: "#3b82f6", // ä¿®æ”¹ä¸»è‰²è°ƒ
    // ...
  },
  // ...
};
```

## ç»„ä»¶æ ·å¼å®šåˆ¶

ä¸»é¢˜é…ç½®ä¸­å·²ç»å®šåˆ¶äº†ä»¥ä¸‹ç»„ä»¶çš„æ ·å¼ï¼š

- **MuiPaper** - çº¸å¼ ç»„ä»¶
- **MuiCard** - å¡ç‰‡ç»„ä»¶
- **MuiButton** - æŒ‰é’®ç»„ä»¶
- **MuiIconButton** - å›¾æ ‡æŒ‰é’®
- **MuiTextField** - æ–‡æœ¬è¾“å…¥æ¡†
- **MuiAppBar** - é¡¶éƒ¨å¯¼èˆªæ 
- **MuiDrawer** - ä¾§è¾¹æ æŠ½å±‰
- **MuiTableCell** - è¡¨æ ¼å•å…ƒæ ¼
- **MuiChip** - æ ‡ç­¾ç»„ä»¶
- **RaMenuItemLink** - React Admin èœå•é¡¹
- **RaDatagrid** - React Admin æ•°æ®è¡¨æ ¼

## æœ€ä½³å®è·µ

1. **é¿å…ç¡¬ç¼–ç é¢œè‰²**

   ```tsx
   // âŒ ä¸æ¨è
   <Box sx={{ color: '#000000' }}>

   // âœ… æ¨è
   <Box sx={{ color: 'text.primary' }}>
   ```

2. **ä½¿ç”¨ä¸»é¢˜å˜é‡**

   ```tsx
   // âŒ ä¸æ¨è
   <Box sx={{ backgroundColor: '#ffffff' }}>

   // âœ… æ¨è
   <Box sx={{ backgroundColor: 'background.paper' }}>
   ```

3. **å“åº”ä¸»é¢˜å˜åŒ–**

   ```tsx
   const theme = useTheme();
   const isDark = theme.palette.mode === "dark";

   // æ ¹æ®ä¸»é¢˜æ¨¡å¼è°ƒæ•´æ ·å¼
   const dynamicStyle = isDark ? darkStyle : lightStyle;
   ```

4. **ä½¿ç”¨ alpha å‡½æ•°åˆ›å»ºé€æ˜è‰²**

   ```tsx
   import { alpha } from '@mui/material/styles';

   <Box sx={{
     backgroundColor: alpha(theme.palette.primary.main, 0.1)
   }}>
   ```

## è°ƒè¯•æç¤º

1. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹å®æ—¶çš„ä¸»é¢˜å˜é‡
2. æ£€æŸ¥ `localStorage` ä¸­çš„ `RaStore.preferences.theme` æŸ¥çœ‹å½“å‰ä¸»é¢˜è®¾ç½®
3. ä½¿ç”¨ React DevTools æŸ¥çœ‹ä¸»é¢˜ context çš„å€¼

## ç›¸å…³æ–‡ä»¶

- `/web/src/theme.ts` - ä¸»é¢˜é…ç½®ä¸»æ–‡ä»¶
- `/web/src/App.tsx` - Admin ç»„ä»¶ä¸»é¢˜é…ç½®
- `/web/src/components/CustomAppBar.tsx` - é¡¶éƒ¨å¯¼èˆªæ ï¼ˆåŒ…å«ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼‰
- `/web/src/components/CustomLayout.tsx` - å¸ƒå±€ç»„ä»¶
- `/web/src/components/CustomMenu.tsx` - ä¾§è¾¹æ èœå•
- `/web/src/pages/Dashboard.tsx` - ä»ªè¡¨æ¿é¡µé¢

## æ›´æ–°æ—¥å¿—

### v9.0.0 (2025-01-09)

- âœ¨ æ–°å¢æ·±æµ…è‰²ä¸»é¢˜åŒæ¨¡å¼æ”¯æŒ
- ğŸ¨ ä¼˜åŒ–é…è‰²æ–¹æ¡ˆï¼Œæå‡è§†è§‰ä½“éªŒ
- âš¡ æ·»åŠ å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- ğŸ”§ æ”¹è¿›ç»„ä»¶æ ·å¼å®šåˆ¶
- ğŸ“± ä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é…
